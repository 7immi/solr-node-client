<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Code Documentation for lib/utils/format.js - Solr client for node.js</title>
    <script type="text/javascript">
      var ghuser = 'lbdremy'
        , ghproject = 'solr-node-client';
    </script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.10.2/jquery.min.js"></script>
    <script src="/solr-node-client/public/js/jq-mousewheel.js"></script>
    <script src="/solr-node-client/public/js/antiscroll.js"></script>
    <script src="/solr-node-client/public/js/prettify.js"></script>
    <script src="/solr-node-client/public/js/main.js"></script>
    <link rel="stylesheet" href="/solr-node-client/public/css/antiscroll.css" type="text/css" media="all">
    <link rel="stylesheet" href="/solr-node-client/public/css/main.css" type="text/css" media="all">
    <link href="http://fonts.googleapis.com/css?family=Lato:300|Quicksand" rel="stylesheet" type="text/css">
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-30298936-1']);
      _gaq.push(['_trackPageview']);
      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
  </head>
  <body><a href="https://github.com/lbdremy/solr-node-client" alt="fork the solr client for node.js on github" target="_blank"><img id="githubfork" src="/solr-node-client/public/img/github_fork.png"></a>
    <nav>
      <ul class="pages">
        <li><a href="/solr-node-client">Home</a></li>
      </ul>
      <ul class="code">
        <li class="header"><a href="/solr-node-client/code/">Code Documentation</a></li>
        <li><a href="/solr-node-client/code/query.js.html">lib/query.js</a></li>
        <li><a href="/solr-node-client/code/format.js.html">lib/utils/format.js</a></li>
        <li><a href="/solr-node-client/code/solr-error.js.html">lib/error/solr-error.js</a></li>
        <li><a href="/solr-node-client/code/solr.js.html">lib/solr.js</a></li>
      </ul>
      <ul class="code">
        <li style="font-family:&quot;Lato&quot;, &quot;Helvetica Neue&quot;, Helvetica, Arial, sans-serif;color:#666;font-size:14px" class="header">examples</li>
        <li><a href="/solr-node-client/code/rollback.js.html">rollback.js</a></li>
        <li><a href="/solr-node-client/code/add.js.html">add.js</a></li>
        <li><a href="/solr-node-client/code/addRemoteResource.js.html">addRemoteResource.js</a></li>
        <li><a href="/solr-node-client/code/createAddStream.js.html">createAddStream.js</a></li>
        <li><a href="/solr-node-client/code/basicAuth.js.html">basicAuth.js</a></li>
        <li><a href="/solr-node-client/code/delete.js.html">delete.js</a></li>
        <li><a href="/solr-node-client/code/deleteByRange.js.html">deleteByRange.js</a></li>
        <li><a href="/solr-node-client/code/deleteByQuery.js.html">deleteByQuery.js</a></li>
        <li><a href="/solr-node-client/code/deleteByID.js.html">deleteByID.js</a></li>
        <li><a href="/solr-node-client/code/optimize.js.html">optimize.js</a></li>
        <li><a href="/solr-node-client/code/ping.js.html">ping.js</a></li>
        <li><a href="/solr-node-client/code/search.js.html">search.js</a></li>
        <li><a href="/solr-node-client/code/commit.js.html">commit.js</a></li>
      </ul>
    </nav>
    <header>
      <h1> Solr client for node.js</h1>
      <div class="description">A solr client for <b>indexing</b>, <b>adding</b>, <b>deleting</b>,<b>committing</b> and <b>searching</b> documents within an <a href="http://lucene.apache.org/solr/">Apache Solr</a> installation (version>=3.2).</div>
      <div class="gh">
        <h4>Latest Update from Github</h4>
        <div id="commit"><span id="latestCommitTime">Loading...</span><a id="latestCommitURL"></a></div>
        <div id="latestCommitMessage">Loading...</div>
        <div id="buttons">
          <div class="btn">
            <iframe src="http://ghbtns.com/github-btn.html?user=lbdremy&amp;repo=solr-node-client&amp;type=watch&amp;count=true" allowtransparency="true" frameborder="0" scrolling="0" width="110px" height="20px"></iframe>
          </div>
          <div class="btn">
            <iframe src="http://ghbtns.com/github-btn.html?user=lbdremy&amp;repo=solr-node-client&amp;type=fork&amp;count=true" allowtransparency="true" frameborder="0" scrolling="0" width="110px" height="20px"></iframe>
          </div>
          <div class="btn"><a href="htts://twitter.com/share" data-via="lbdremy" data-url="http://lbdremy.github.com/solr-node-client" data-related="lbdremy" class="twitter-share-button">Tweet</a>
            <script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
          </div>
        </div>
        <div id="links"><a id="repoIssues" href="https://github.com/lbdremy/solr-node-client/issues">GitHub Issues</a>
        </div>
      </div>
    </header>
    <section id="content">
      <div id="code">
        <article class="codeblock">
          <div class="header"><p>Expose <code>dateISOify()</code> and <code>toISOString()</code></p>
</div>
          <div class="ctx">
            <h3>exports.dateISOify</h3>
          </div>
          <div class="description"></div>
          <div class="view-source">Hide Source</div>
          <div class="code-wrap">
            <pre class="source prettyprint"><code>exports.dateISOify = dateISOify;
exports.toISOString = toISOString;</code></pre>
          </div>
        </article>
        <article class="codeblock">
          <div class="header"><p>ISOify <code>Date</code> objects (possibly in collections)</p>
</div>
          <div class="ctx">
            <h3>dateISOify()</h3>
          </div>
          <div class="tags">
            <div class="tag"><span class="type">&#64;param</span><span class="types">&#123; Array | Object &#125;</span><span class="name">obj</span><span class="desc"></span></div>
            <div class="tag"><span class="type">&#64;return</span><span class="desc">Array,Object</span></div>
            <div class="tag"><span class="type">&#64;api</span><span class="visibility">private</span></div>
          </div>
          <div class="description"></div>
          <div class="view-source">Hide Source</div>
          <div class="code-wrap">
            <pre class="source prettyprint"><code>function dateISOify(obj){
   if( obj instanceof Array ){
      for(var i = 0; i &lt; obj.length; i++){
         obj[i] = dateISOify(obj[i]);
      }
   }else if(obj instanceof Object &amp;&amp; !(obj instanceof Date) ){
      for(var key in obj){
         if( obj[key] instanceof Date ) obj[key] = toISOString(obj[key]);
      }
   }else{
      if( obj instanceof Date ) obj = toISOString(obj);
   }
   return obj;
};</code></pre>
          </div>
        </article>
        <article class="codeblock">
          <div class="header"><p>ISOify a single <code>Date</code> object
Sidesteps <code>Invalid Date</code> objects by returning <code>null</code> instead</p>
</div>
          <div class="ctx">
            <h3>toISOString()</h3>
          </div>
          <div class="tags">
            <div class="tag"><span class="type">&#64;param</span><span class="types">&#123; Date &#125;</span><span class="name"></span><span class="desc"></span></div>
            <div class="tag"><span class="type">&#64;return</span><span class="desc">null,String</span></div>
            <div class="tag"><span class="type">&#64;api</span><span class="visibility">private</span></div>
          </div>
          <div class="description"></div>
          <div class="view-source">Hide Source</div>
          <div class="code-wrap">
            <pre class="source prettyprint"><code>function toISOString(date) {
   return (date &amp;&amp; !isNaN(date.getTime())) ? date.toISOString() : null;
};</code></pre>
          </div>
        </article>
        <article class="codeblock">
          <div class="header"><p>Expose <code>stringify()</code></p>
</div>
          <div class="ctx">
            <h3>exports.stringify</h3>
          </div>
          <div class="description"></div>
          <div class="view-source">Hide Source</div>
          <div class="code-wrap">
            <pre class="source prettyprint"><code>exports.stringify = stringify;</code></pre>
          </div>
        </article>
        <article class="codeblock">
          <div class="header"><p>Serialize an object to a string. Optionally override the default separator (&#39;&amp;&#39;) and assignment (&#39;=&#39;) characters.</p>
</div>
          <div class="ctx">
            <h3>stringify()</h3>
          </div>
          <div class="tags">
            <div class="tag"><span class="type">&#64;param</span><span class="types">&#123; Object &#125;</span><span class="name">obj</span><span class="desc">- object to serialiaze</span></div>
            <div class="tag"><span class="type">&#64;param</span><span class="types">&#123; String &#125;</span><span class="name">[sep]</span><span class="desc">- separator character</span></div>
            <div class="tag"><span class="type">&#64;param</span><span class="types">&#123; String &#125;</span><span class="name">[eq]</span><span class="desc">- assignment character</span></div>
            <div class="tag"><span class="type">&#64;param</span><span class="types">&#123; String &#125;</span><span class="name">[name]</span><span class="desc">-</span></div>
            <div class="tag"><span class="type">&#64;return</span><span class="desc">String</span></div>
            <div class="tag"><span class="type">&#64;api</span><span class="visibility">private</span></div>
          </div>
          <div class="description"></div>
          <div class="view-source">Hide Source</div>
          <div class="code-wrap">
            <pre class="source prettyprint"><code>function stringify(obj, sep, eq, name) {
  sep = sep || '&amp;';
  eq = eq || '=';
  obj = (obj === null) ? undefined : obj;

  switch (typeof obj) {
    case 'object':
      return Object.keys(obj).map(function(k) {
        if (Array.isArray(obj[k])) {
          return obj[k].map(function(v) {
            return stringifyPrimitive(k) +
                   eq +
                   stringifyPrimitive(v);
          }).join(sep);
        } else {
          return stringifyPrimitive(k) +
                 eq +
                 stringifyPrimitive(obj[k]);
        }
      }).join(sep);

    default:
      if (!name) return '';
      return stringifyPrimitive(name) + eq +
             stringifyPrimitive(obj);
  }
};</code></pre>
          </div>
        </article>
        <article class="codeblock">
          <div class="header"><p>Stringify a primitive</p>
</div>
          <div class="ctx">
            <h3>stringifyPrimitive()</h3>
          </div>
          <div class="tags">
            <div class="tag"><span class="type">&#64;param</span><span class="types">&#123; String | Boolean | Number &#125;</span><span class="name">v</span><span class="desc">- primitive value</span></div>
            <div class="tag"><span class="type">&#64;return</span><span class="desc">String</span></div>
            <div class="tag"><span class="type">&#64;api</span><span class="visibility">private</span></div>
          </div>
          <div class="description"></div>
          <div class="view-source">Hide Source</div>
          <div class="code-wrap">
            <pre class="source prettyprint"><code>function stringifyPrimitive(v) {
  switch (typeof v) {
    case 'string':
      return v;

    case 'boolean':
      return v ? 'true' : 'false';

    case 'number':
      return isFinite(v) ? v : '';

    default:
      return '';
  }
};</code></pre>
          </div>
        </article>
        <article class="codeblock">
          <div class="header"><p>Expose <code>escapeSpecialChars</code></p>
</div>
          <div class="ctx">
            <h3>exports.escapeSpecialChars</h3>
          </div>
          <div class="description"></div>
          <div class="view-source">Hide Source</div>
          <div class="code-wrap">
            <pre class="source prettyprint"><code>exports.escapeSpecialChars = escapeSpecialChars;</code></pre>
          </div>
        </article>
        <article class="codeblock">
          <div class="header"><p>Escape special characters that are part of the query syntax of Lucene</p>
</div>
          <div class="ctx">
            <h3>escapeSpecialChars()</h3>
          </div>
          <div class="tags">
            <div class="tag"><span class="type">&#64;param</span><span class="types">&#123; String &#125;</span><span class="name">s</span><span class="desc">- string to escape</span></div>
            <div class="tag"><span class="type">&#64;return</span><span class="desc">String</span></div>
            <div class="tag"><span class="type">&#64;api</span><span class="visibility">public</span></div>
          </div>
          <div class="description"></div>
          <div class="view-source">Hide Source</div>
          <div class="code-wrap">
            <pre class="source prettyprint"><code>function escapeSpecialChars(s){
  return s.replace(/([\+\-&amp;\|!\(\)\{\}\[\]\^&quot;~\*\?:\\\ ])/g, function(match) {
    return '\\' + match;
  });
}</code></pre>
          </div>
        </article>
        <article class="codeblock">
          <div class="header"><p>Expose <code>escapeAndEncode</code></p>
</div>
          <div class="ctx">
            <h3>exports.escapeAndEncode</h3>
          </div>
          <div class="description"></div>
          <div class="view-source">Hide Source</div>
          <div class="code-wrap">
            <pre class="source prettyprint"><code>exports.escapeAndEncode = escapeAndEncode;</code></pre>
          </div>
        </article>
        <article class="codeblock">
          <div class="header"><p>Escape with <code>escapeSpecialChars</code> and encode with <code>encodeURIComponent</code></p>
</div>
          <div class="ctx">
            <h3>escapeAndEncode()</h3>
          </div>
          <div class="tags">
            <div class="tag"><span class="type">&#64;param</span><span class="types">&#123; String &#125;</span><span class="name">s</span><span class="desc">- string to escape and encode</span></div>
            <div class="tag"><span class="type">&#64;return</span><span class="desc">String</span></div>
            <div class="tag"><span class="type">&#64;api</span><span class="visibility">private</span></div>
          </div>
          <div class="description"></div>
          <div class="view-source">Hide Source</div>
          <div class="code-wrap">
            <pre class="source prettyprint"><code>function escapeAndEncode(s){
  return encodeURIComponent(escapeSpecialChars(s.toString()));
}</code></pre>
          </div>
        </article>
      </div>
    </section>
    <footer>
      <div class="branding">
        Solr client for node.js&nbsp;
        . site generated by<a href="http://codexjs.com">codex.</a>
      </div>
    </footer>
  </body>
</html>